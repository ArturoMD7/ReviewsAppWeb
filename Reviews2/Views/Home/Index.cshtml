@model IEnumerable<Reviews2.Models.MediaItem>

@{
    ViewBag.Title = "Catálogo de Medios";
}


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

<main class="container my-4">


    <section class="row">
        @foreach (var item in Model)
        {
            <div class="col-sm-6 col-md-4 col-lg-3 mb-4">
                <div class="card h-100">
                    @if (!string.IsNullOrEmpty(item.ImagenUrl))
                    {
                        <img src="@item.ImagenUrl" class="card-img-top" alt="@item.Titulo" style="max-height: 200px; object-fit: cover;" />
                    }
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@item.Titulo</h5>
                        <p class="card-text mb-1"><strong>Categoría:</strong> @(item.Category?.Nombre ?? "Sin categoría")</p>
                        <p class="card-text mb-1">
                            @{
                                var palabras = item.Descripcion?.Split(' ');
                                var preview = palabras != null && palabras.Length > 15
                                    ? string.Join(" ", palabras.Take(15)) + "..."
                                    : item.Descripcion;
                            }
                            @preview
                        </p>
                        <p class="card-text mb-1"><strong>Plataforma:</strong> @item.Plataforma</p>
                        <p class="card-text mb-3"><small class="text-muted">Publicado: @(item.FechaPublicacion?.ToString("d") ?? "No especificada")</small></p>
                        <a href="@Url.Action("Details", "MediaItems", new { id = item.Id })" class="btn btn-info mt-auto">Ver detalles</a>
                    </div>
                </div>
            </div>

        }


    </section>
</main>

@section estilos {
    <style>
        .navbar {
            border-bottom: 3px solid #Ff0000;
        }

        .navbar-nav .btn {
            font-weight: bold;
            padding: 6px 12px;
        }
    </style>
}
